% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/parse_functions.R
\name{biber}
\alias{biber}
\alias{biber.spacyr_parsed}
\alias{biber.udpipe_connlu}
\title{Extract Biber features from a document parsed and annotated by spacyr or udpipe}
\usage{
biber(
  tokens,
  measure = c("MATTR", "TTR", "CTTR", "MSTTR", "none"),
  normalize = TRUE
)

\method{biber}{spacyr_parsed}(
  tokens,
  measure = c("MATTR", "TTR", "CTTR", "MSTTR", "none"),
  normalize = TRUE
)

\method{biber}{udpipe_connlu}(
  tokens,
  measure = c("MATTR", "TTR", "CTTR", "MSTTR", "none"),
  normalize = TRUE
)
}
\arguments{
\item{tokens}{A dataset of tokens created by \code{spacyr::spacy_parse()} or
\code{udpipe::udpipe_annotate()}}

\item{measure}{Measure to use for type-token ratio. Passed to
\code{quanteda.textstats::textstat_lexdiv()} to calculate the statistic. Can be
the Moving Average Type-Token Ratio (MATTR), ordinary Type-Token Ratio
(TTR), corrected TTR (CTTR), Mean Segmental Type-Token Ratio (MSTTR), or
\code{"none"} to skip calculating a type-token ratio. If a statistic is chosen
but there are fewer than 200 token in the smallest document, the TTR is
used instead.}

\item{normalize}{If \code{TRUE}, count features are normalized to the rate per
1,000 tokens.}
}
\value{
A \code{data.frame} of features containing one row per document and one
column per feature. If \code{normalize} is \code{TRUE}, count features are normalized
to the rate per 1,000 tokens.
}
\description{
Takes data that has been part-of-speech tagged and dependency parsed and
extracts counts of features that have been used in Douglas Biber's research
since the late 1980s.
}
\details{
Refer to \code{spacyr::spacy_parse()} or \code{udpipe::udpipe_annotate()} for details
on parsing texts. These must be configured to do part-of-speech and
dependency parsing. For \code{spacyr::spacy_parse()}, use the \code{dependency = TRUE},
\code{tag = TRUE}, and \code{pos = TRUE} arguments; for \code{udpipe::udpipe_annotate()},
set the \code{tagger} and \code{parser} arguments to \code{"default"}.

Feature extraction relies on the \code{dict} and \code{word_lists} datasets to match specific features;
see their documentation
and values for details on the exact patterns and words matched by each. The
function identifies other features based on local cues, which are
approximations. Because they rely on probabilistic taggers provided by spaCy
or udpipe, the accuracy of the resulting counts are dependent on the accuracy
of those models. Thus, texts with irregular spellings, non-normative
punctuation, etc. will likely produce unreliable outputs, unless taggers are
tuned specifically for those purposes.

The following feature families are detected. Each description highlights
typical French cues for the feature. The repository file
\code{biber_features_equivalents_french.csv} and the packaged dataset
\code{french_examples} list the exact examples that guide every heuristic.
\subsection{Tense and aspect markers}{

\describe{
\item{f_01_past_tense}{Verbs in a past-tense form (e.g., \emph{il parlait}).}
\item{f_02_perfect_aspect}{Perfect aspect built with auxiliaries such as \emph{avoir} or \emph{etre} plus a past participle (e.g., \emph{j'ai fini}).}
\item{f_03_present_tense}{Finite verbs in the present tense (e.g., \emph{nous parlons}).}
}
}

\subsection{Place and time adverbials}{

\describe{
\item{f_04_place_adverbials}{Adverbs of place (e.g., \emph{dehors}, \emph{ailleurs}).}
\item{f_05_time_adverbials}{Adverbs of time (e.g., \emph{bientot}, \emph{hier}).}
}
}

\subsection{Pronouns and pro-verbs}{

\describe{
\item{f_06_first_person_pronouns}{First-person pronouns (e.g., \emph{je}, \emph{nous}).}
\item{f_07_second_person_pronouns}{Second-person pronouns (e.g., \emph{tu}, \emph{vous}).}
\item{f_08_third_person_pronouns}{Third-person personal pronouns other than expletives (e.g., \emph{il}, \emph{elle}, \emph{ils}).}
\item{f_09_pronoun_it}{Impersonal or expletive subjects (e.g., \emph{il} in \emph{il faut} or \emph{il pleut}).}
\item{f_10_demonstrative_pronoun}{Standalone demonstratives that replace a noun (e.g., \emph{celui-ci}).}
\item{f_11_indefinite_pronouns}{Indefinite pronouns (e.g., \emph{quelqu'un}, \emph{personne}).}
\item{f_12_proverb_do}{Uses of \emph{faire} as a pro-verb (e.g., \emph{je le fais}).}
}
}

\subsection{Questions}{

\describe{
\item{f_13_wh_question}{Direct interrogatives beginning with \emph{qui}, \emph{quoi}, \emph{ou}, etc.}
}
}

\subsection{Nominal forms}{

\describe{
\item{f_14_nominalizations}{Nominalisations such as words ending in \emph{-tion}, \emph{-ment}, \emph{-age}.}
\item{f_15_gerunds}{Gerunds or \emph{groupe infinitif} headed by \emph{en} (e.g., \emph{en travaillant}).}
\item{f_16_other_nouns}{All other noun tokens once nominalisations and gerunds are excluded.}
}
}

\subsection{Passives}{

\describe{
\item{f_17_agentless_passives}{Passive clauses without an explicit agent (e.g., \emph{La decision a ete prise}).}
\item{f_18_by_passives}{Passive clauses with an expressed agent (e.g., \emph{La decision a ete prise par le directeur}).}
}
}

\subsection{Stative forms}{

\describe{
\item{f_19_be_main_verb}{\emph{etre} used as a lexical verb.}
\item{f_20_existential_there}{Existential constructions (e.g., \emph{il y a}).}
}
}

\subsection{Subordination features}{

\describe{
\item{f_21_that_verb_comp}{Verb complements introduced by \emph{que} (e.g., \emph{je pense qu'il vient}).}
\item{f_22_that_adj_comp}{Adjectival complements introduced by \emph{que} (e.g., \emph{je suis heureux que tu sois la}).}
\item{f_23_wh_clause}{\emph{wh}-clauses such as \emph{ce que}, \emph{ce qui}.}
\item{f_24_infinitives}{Infinitival clauses.}
\item{f_25_present_participle}{Adverbial clauses headed by a present participle (e.g., \emph{en chantant}).}
\item{f_26_past_participle}{Adverbial clauses headed by a past participle (e.g., \emph{construit en un an}).}
\item{f_27_past_participle_whiz}{Post-nominal reduced relatives with past participles (e.g., \emph{la maison construite en 2020}).}
\item{f_28_present_participle_whiz}{Post-nominal reduced relatives with present participles (e.g., \emph{les enfants jouant dans le parc}).}
\item{f_29_that_subj}{Subject relatives introduced by \emph{qui} following a noun.}
\item{f_30_that_obj}{Object relatives introduced by \emph{que}.}
\item{f_31_wh_subj}{Subject relatives with \emph{lequel/laquelle/...}.}
\item{f_32_wh_obj}{Object relatives with \emph{dont}, \emph{lequel/laquelle/...}.}
\item{f_33_pied_piping}{Pied-piping relatives including the preposition (e.g., \emph{la maniere dans laquelle il procede}).}
\item{f_34_sentence_relatives}{Sentence relatives such as \emph{ce qui} following a clause (e.g., \emph{Il a reussi, ce qui est remarquable}).}
\item{f_35_because}{Causal subordinates (e.g., \emph{parce que}, \emph{car}).}
\item{f_36_though}{Concessive subordinates (e.g., \emph{bien que}, \emph{meme si}).}
\item{f_37_if}{Conditional subordinates (e.g., \emph{si}, \emph{a moins que}).}
\item{f_38_other_adv_sub}{Other adverbial subordinators (e.g., \emph{tandis que}, \emph{lorsque}).}
}
}

\subsection{Prepositional phrases, adjectives, and adverbs}{

\describe{
\item{f_39_prepositions}{Prepositions functioning as case markers.}
\item{f_40_adj_attr}{Attributive adjectives placed before or alongside a noun (e.g., \emph{une grande maison}).}
\item{f_41_adj_pred}{Predicative adjectives following a copula (e.g., \emph{la maison est grande}).}
\item{f_42_adverbs}{Adverbs not counted elsewhere (e.g., \emph{vraiment}).}
}
}

\subsection{Lexical specificity}{

\describe{
\item{f_43_type_token}{Type-token ratio computed with the requested measure.}
\item{f_44_mean_word_length}{Average token length (letters only).}
}
}

\subsection{Lexical classes}{

\describe{
\item{f_45_conjuncts}{Sentence connectors such as \emph{cependant}, \emph{toutefois}.}
\item{f_46_downtoners}{Downtoners (e.g., \emph{a peine}, \emph{presque}).}
\item{f_47_hedges}{Hedges or approximators (e.g., \emph{environ}, \emph{quelque peu}).}
\item{f_48_amplifiers}{Amplifiers (e.g., \emph{tres}, \emph{particulierement}).}
\item{f_49_emphatics}{Emphatic markers (e.g., \emph{vraiment}, \emph{bien}).}
\item{f_50_discourse_particles}{Discourse particles often sentence-initial (e.g., \emph{eh bien}, \emph{bon}).}
\item{f_51_demonstratives}{Demonstrative determiners (e.g., \emph{ce}, \emph{cet}, \emph{cette}, \emph{ces}).}
}
}

\subsection{Modals}{

\describe{
\item{f_52_modal_possibility}{Verbs expressing possibility (e.g., \emph{pouvoir}, \emph{il se peut}).}
\item{f_53_modal_necessity}{Necessity modals (e.g., \emph{devoir}, \emph{falloir}).}
\item{f_54_modal_predictive}{Predictive markers (e.g., \emph{aller} + infinitive, \emph{devoir} au futur).}
}
}

\subsection{Specialized verb classes}{

\describe{
\item{f_55_verb_public}{Public communication verbs (e.g., \emph{declarer}, \emph{annoncer}).}
\item{f_56_verb_private}{Private cognition verbs (e.g., \emph{penser}, \emph{croire}).}
\item{f_57_verb_suasive}{Suasive verbs (e.g., \emph{ordonner}, \emph{proposer}).}
\item{f_58_verb_seem}{Verbs of seeming (e.g., \emph{sembler}, \emph{paraître}).}
}
}

\subsection{Reduced forms and dispreferred structures}{

\describe{
\item{f_59_contractions}{Contractions (e.g., \emph{j'ai}, \emph{c'etait}).}
\item{f_60_that_deletion}{Subordinator \emph{que} omission in complement clauses.}
\item{f_61_stranded_preposition}{Stranded prepositions (e.g., \emph{la personne que je parlais avec}).}
\item{f_62_split_infinitive}{Split infinitives (e.g., \emph{de vraiment comprendre}).}
\item{f_63_split_auxiliary}{Auxiliary and participle separated by an adverb (e.g., \emph{a probablement ete vu}).}
}
}

\subsection{Co-ordination}{

\describe{
\item{f_64_phrasal_coordination}{Coordination of like phrases (e.g., \emph{pommes et oranges}).}
\item{f_65_clausal_coordination}{Coordination of independent clauses (e.g., sentence-initial \emph{et}).}
}
}

\subsection{Negation}{

\describe{
\item{f_66_neg_synthetic}{Synthetic negation with determiners or adjectives (e.g., \emph{aucun}, \emph{nul}).}
\item{f_67_neg_analytic}{Analytic negation with \emph{ne} ... adverb (e.g., \emph{ne ... pas}, \emph{ne ... jamais}).}
}
}
}
\examples{
# Parse the example documents provided with the package
biber(udpipe_samples)

biber(spacy_samples)
}
\references{
Biber, Douglas (1985). "Investigating macroscopic textual
variation through multifeature/multidimensional analyses." \emph{Linguistics}
23(2), 337-360. \doi{10.1515/ling.1985.23.2.337}

Biber, Douglas (1988). \emph{Variation across Speech and Writing}.
Cambridge University Press.

Biber, Douglas (1995). \emph{Dimensions of Register Variation: A Cross-Linguistic
Comparison.} Cambridge University Press.

Covington, M. A., & McFall, J. D. (2010). Cutting the Gordian Knot: The
Moving-Average Type–Token Ratio (MATTR). \emph{Journal of Quantitative
Linguistics}, 17(2), 94–100. \doi{10.1080/09296171003643098}
}
\seealso{
\link{dict}, \link{word_lists}
}
